{"version":3,"sources":["animatedHeadline.es6"],"names":["factory","define","amd","exports","module","require","jQuery","$","fn","animatedHeadline","options","window_height","extend","scrollTop","trigger","window","on","outerHeight","this","each","$this","animation_length","animation_trigger_start","animation_trigger_end","element_height","element_width","$element_blocks","find","append","css","position","background-image","data","$element_blocks_alt_layer","TweenLite","set","x","y","scale","tl","TimelineMax","pause","add","to","outerWidth","width","height","offset","top","progress","console","log"],"mappings":"cAQE,SAAUA,GAEc,kBAAXC,SAAyBA,OAAOC,IACvCD,QAAQ,UAAWD,GACO,mBAAZG,SACdC,OAAOD,QAAUH,EAAQK,QAAQ,WAEjCL,EAAQM,SAKf,SAAUC,GAEPA,EAAEC,GAAGC,iBAAmB,SAAUC,GAE9B,GAGIC,IAHmBJ,EAAEK,UAAWF,OAGhCC,IACAE,MAAAA,GACAC,MAAAA,EAGJP,GAAEQ,QAAQC,GAAG,gBAAiB,WAC1BL,EAAgBJ,EAAEQ,QAAQE,cAC1BJ,EAAYN,EAAEQ,QAAQF,YAEtBC,EAAUD,EAAYF,IAK1BJ,EAAEW,MAAMC,KAAK,WAET,GAAIC,GAAQb,EAAEW,MACVG,EAAmB,EACnBC,MAAAA,GACAC,MAAAA,GACAC,MAAAA,GACAC,MAAAA,GACAC,EAAkBN,EAAMO,KAAK,SAGjCD,GAAgBP,KAAK,WACjBZ,EAAEW,MAAMU,OAAOrB,EAAE,eAAesB,KAC5BC,SAAY,WACZC,mBAAoB,OAASX,EAAMY,KAAK,wBAA0B,QAK1E,IAAIC,GAA4BP,EAAgBC,KAAK,MAIrDO,WAAUC,IAAI,YAAaC,GAAI,GAAIC,GAAI,KACvCH,UAAUC,IAAI,YAAaC,EAAG,GAAIC,GAAI,GAAIC,MAAO,KACjDJ,UAAUC,IAAI,YAAaC,GAAI,GAAIC,EAAG,KACtCH,UAAUC,IAAI,YAAaC,EAAG,GAAIC,EAAG,IAGrC,IAAIE,GAAK,GAAIC,YAEbD,GAAGE,QAEHF,EAAGG,IAAI,WACFC,GAAG,WAAY,GAAIP,EAAG,EAAGC,EAAG,EAAGC,MAAO,GAAI,WAC1CK,GAAG,WAAY,GAAIP,EAAG,EAAGC,EAAG,EAAGC,MAAO,GAAI,WAC1CK,GAAG,WAAY,GAAIP,EAAG,EAAGC,EAAG,EAAGC,MAAO,GAAI,WAC1CK,GAAG,WAAY,GAAIP,EAAG,EAAGC,EAAG,EAAGC,MAAO,GAAI,WAG/C/B,EAAEQ,QAAQC,GAAG,qBAAsB,WAuB/B,GArBAS,EAAgBL,EAAMwB,aACtBpB,EAAiBJ,EAAMH,cAIvBgB,EAA0BJ,KACtBgB,MAASpB,EAAgB,KACzBqB,OAAUtB,EAAiB,OAG/BE,EAAgBP,KAAK,cAMrBG,EAA0BF,EAAM2B,SAASC,IACzCzB,EAAwBD,EAA0BX,EAAgBa,EAElEH,EAAmBE,EAAwBD,EAEvCR,EAAUQ,GAA2BR,EAAUS,EAAuB,CAEtE,GAAI0B,IAAYnC,EAAUQ,GAA2BD,CAErD6B,SAAQC,IAAIF,GAERA,EAAW,GAEXf,UAAUS,GAAGJ,EAAI,GAAIU,SAAU,IAG1BA,EAAW,IAAOA,EAAW,GAElCf,UAAUS,GAAGJ,EAAI,GAAIU,SAAU,IAI1BA,EAAW,IAEhBf,UAAUS,GAAGJ,EAAI,GAAIU,SAAU","file":"animatedHeadline.min.js","sourcesContent":["/*\n\n animatedHeadline\n\n Author: lemehovskiy\n\n */\n\n;(function (factory) {\n    'use strict';\n    if (typeof define === 'function' && define.amd) {\n        define(['jquery'], factory);\n    } else if (typeof exports !== 'undefined') {\n        module.exports = factory(require('jquery'));\n    } else {\n        factory(jQuery);\n    }\n\n}\n\n(function ($) {\n\n    $.fn.animatedHeadline = function (options) {\n\n        let general_settings = $.extend({}, options);\n\n\n        let window_height,\n            scrollTop,\n            trigger;\n        // trigger_end;\n\n        $(window).on('scroll resize', function () {\n            window_height = $(window).outerHeight();\n            scrollTop = $(window).scrollTop();\n\n            trigger = scrollTop + window_height;\n\n        });\n\n\n        $(this).each(function () {\n\n            let $this = $(this),\n                animation_length = 0,\n                animation_trigger_start,\n                animation_trigger_end,\n                element_height,\n                element_width,\n                $element_blocks = $this.find('.block');\n\n\n            $element_blocks.each(function(){\n                $(this).append($('<div></div>').css({\n                    'position': 'absolute',\n                    'background-image': 'url(' + $this.data('exlode-block-alt-img') + ')'\n                }));\n\n            });\n\n            let $element_blocks_alt_layer = $element_blocks.find('div');\n\n\n\n            TweenLite.set('.block-1', {x: -50, y: -50});\n            TweenLite.set('.block-2', {x: 50, y: -20, scale: 0.7});\n            TweenLite.set('.block-3', {x: -30, y: 20});\n            TweenLite.set('.block-4', {x: 40, y: 20});\n\n\n            let tl = new TimelineMax();\n\n            tl.pause();\n\n            tl.add('move-in')\n                .to('.block-1', 1, {x: 0, y: 0, scale: 1}, 'move-in')\n                .to('.block-2', 1, {x: 0, y: 0, scale: 1}, 'move-in')\n                .to('.block-3', 1, {x: 0, y: 0, scale: 1}, 'move-in')\n                .to('.block-4', 1, {x: 0, y: 0, scale: 1}, 'move-in');\n\n\n            $(window).on('scroll resize load', function () {\n\n                element_width = $this.outerWidth();\n                element_height = $this.outerHeight();\n\n\n\n                $element_blocks_alt_layer.css({\n                    'width': element_width + 'px',\n                    'height': element_height + 'px'\n                })\n\n                $element_blocks.each(function(){\n\n                });\n\n\n\n                animation_trigger_start = $this.offset().top;\n                animation_trigger_end = animation_trigger_start + window_height + element_height;\n\n                animation_length = animation_trigger_end - animation_trigger_start;\n\n                if (trigger > animation_trigger_start && trigger < animation_trigger_end) {\n\n                    let progress = (trigger - animation_trigger_start) / animation_length;\n\n                    console.log(progress);\n\n                    if (progress < 0.2) {\n\n                        TweenLite.to(tl, 1, {progress: 0});\n                    }\n\n                    else if (progress > 0.2 && progress < 0.8) {\n\n                        TweenLite.to(tl, 1, {progress: 1});\n\n                    }\n\n                    else if (progress > 0.8) {\n\n                        TweenLite.to(tl, 1, {progress: 0});\n\n                    }\n\n                }\n\n            })\n\n\n        });\n\n    }\n\n}));"]}